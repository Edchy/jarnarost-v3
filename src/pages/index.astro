---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
---

<Layout
  title="Järna Rosteri | Ekologiskt och biodynamiskt kaffe."
  description="På rosteriet ute i Järna rostar vi varje vecka för att alltid leverera nyrostat kaffe. Processen är enkel och allt görs för hand. Vi vill inte krångla till det, allt handlar om en bra råvara som vi utvecklar genom rostning. Råkaffet vi rostar kommer från ekologiska och biodynamiska gårdar från hela världen. Biodynamiska kaffegårdar drivs som ett slutet kretslopp där man inte odlar mer än vad gården själv orkar bära. Allt växtavfall komposteras och används sedan som näring för nya planteringar. Och så snurrar det på."
  image="/images/logos/logo.avif"
>
  <main>
    <h1 class="visually-hidden">Järna Rosteri</h1>
    <div class="kladd">Jarna Rosteri</div>
    <nav>
      <menu class="card-links">
        <Card
          body="Ekologiskt kaffe"
          id="image-0"
          hoverBg="var(--color-1)"
          color="var(--color-light)"
          href="#"
          imageSrc="/images/gallery/img1.avif"
        />
        <Card
          body="#instagram"
          id="image-1"
          hoverBg="var(--color-7)"
          color="var(--color-light)"
          href="https://www.instagram.com/jarnarosteri/"
          imageSrc="/images/gallery/img21.avif"
        />
        <Card
          body="hantverks rosteri"
          id="image-2"
          hoverBg="var(--color-brand-2)"
          color="var(--color-light)"
          href="#"
          imageSrc="/images/gallery/img48.avif"
        />
        <Card
          body=""
          id="image-3"
          hoverBg="var(--color-8)"
          color="var(--color-light)"
          href="#"
          imageSrc="/images/gallery/img4.avif"
        />
        <Card
          body="kontakt"
          id="image-4"
          hoverBg="var(--color-3)"
          color="var(--color-light)"
          href="#"
          imageSrc="/images/gallery/img5.avif"
        />
        <Card
          body="=)"
          id="image-5"
          hoverBg="var(--color-4-dark)"
          color="var(--color-light)"
          href="#"
          imageSrc="/images/gallery/img6.avif"
        />
      </menu>
    </nav>
  </main>
  <script src="../js/index.ts"></script>
  <script>
    // Add this to your cardOpacity.ts or create a new script.ts file
    document.addEventListener("DOMContentLoaded", () => {
      let lastMouseMoveTime: number = Date.now();

      document.addEventListener("mousemove", () => {
        lastMouseMoveTime = Date.now();
      });

      const checkHoverContentVisibility = () => {
        const now: number = Date.now();
        const threeSecondsElapsed: boolean = now - lastMouseMoveTime >= 4000;

        const hoverContentElement: HTMLElement | null =
          document.querySelector(".kladd");
        if (hoverContentElement) {
          if (threeSecondsElapsed) {
            hoverContentElement.style.opacity = "1";
          } else {
            hoverContentElement.style.opacity = "0";
          }
        }

        requestAnimationFrame(checkHoverContentVisibility);
      };

      checkHoverContentVisibility();
    });
  </script>
</Layout>
<style is:global>
  .kladd {
    font-family: var(--font-primary-heading);
    font-family: "Tag";
    color: var(--color-dark);
    position: absolute;
    top: 30%;
    left: 0;
    font-size: clamp(8rem, 40vw + 1rem, 26rem);
    text-shadow: 4px 1px rgb(254, 252, 252);
    z-index: 1000;
    line-height: 0.6;
    pointer-events: none;
    rotate: 90deg;
    transition: opacity 0.4s ease;
    @media (min-width: 700px) {
      transform: translate(-50%, -50%);
      top: 50%;
      left: 50%;
      rotate: 0deg;
      color: var(--color-light);
      text-shadow: 2px 1px rgb(0, 0, 0);
    }
  }
  .card-links {
    display: grid;
    list-style: none;
    padding: 0;
    gap: 0.5rem;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr 1fr;
    min-height: 100svh;
  }

  .image-0 h2 {
    transform: rotate(270deg);
  }
  .image-1 {
    transform: rotate(0deg);
  }
  .image-2 h2 {
    transform: rotate(0deg);
  }
  .image-3 {
    transform: rotate(0deg);
  }
  .image-4 h2 {
    transform: rotate(180deg);
  }
  .image-5 h2 {
    transform: rotate(90deg);
  }
  @media (min-width: 900px) {
    .card-links {
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr;
    }
  }
</style>
